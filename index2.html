<html>
<script>
// 20/09/2022
//usar o THIS aqui faz com que um objeto seja criado.
    class Lancamento {
            constructor (categoria,tipo,valor){
                if(tipo !== "receita" && tipo !== "despesa"){
                    throw new Error("Lançamento Inválido: Tipo deve ser receita ou despesa.")
                }
                if(valor <= 0){
                    throw new Error("Lançamento Inválido: O valor precisa ser maior que zero.")
                }
                if(categoria === ""){
                    throw new Error("Lançamento Inválido: A categoria é obrigatória.")
                }
                this.categoria = categoria
                this.tipo = tipo
                this.valor = valor
            }
    }

    
    novoLancamento = new Lancamento("Salário","receita",143000)
        console.log(novoLancamento)
    lancamento2 = new Lancamento("Aluguel","despesa",1500)
        console.log(lancamento2)


    function calcularRendimentos(valor){
        rendimentos = valor * 0.05
        return rendimentos
    }    
    function calcularJuros(valor){
        juros = valor * 0.1
        return juros
    }        
    

    function calcularSaldo(mes, saldoInicial, lancamentos){
        console.log(mes)
        saldo = saldoInicial
            for(lancamento of lancamentos) {
                if (lancamento.tipo === "receita"){
                    saldo += lancamento.valor    
                } else {(lancamento.tipo==="despesa")
                    saldo -= lancamento.valor   
                }
        }
            negativo = saldo < 0
            if(negativo){
                juros = calcularJuros(saldo)
                saldo = saldo + juros
                console.log("NEGATIVOU")
            } else {
                calcularRendimentos(saldo)
                saldo = saldo + rendimentos
                console.log("RENDEU")
        }   
            
        return saldo
    }
        

        saldoInicial = 0    

        lancamentosJaneiro = [
            new Lancamento("Salário","receita",3000),
            new Lancamento("Aluguel","despesa",1000),
            new Lancamento("Conta de luz","despesa",100),
            new Lancamento("Conta de água","despesa",100),
            new Lancamento("Transporte","despesa",100),
            new Lancamento("Alimentação","despesa",400),
            new Lancamento("Condomínio","despesa",100),
            new Lancamento("Farmácia","despesa",100)
        ]
        
        saldo1 = calcularSaldo("Janeiro",2500,lancamentosJaneiro)
        console.log(saldo1)

        lancamentosFevereiro = [
            new Lancamento("Salário","receita",3000),
            new Lancamento("Aluguel","despesa",1031),
            new Lancamento("Conta de luz","despesa",145),
            new Lancamento("Conta de água","despesa",512),
            new Lancamento("Transporte","despesa",112),
            new Lancamento("Alimentação","despesa",430),
            new Lancamento("Condomínio","despesa",230),
            new Lancamento("Farmácia","despesa",289)
        ]
        saldo2 = calcularSaldo("Fevereiro",saldoInicial,lancamentosFevereiro)
        console.log(saldo2)


        lancamentosMarco = [
            new Lancamento("Salário","receita",3000),
            new Lancamento("Aluguel","despesa",203),
            new Lancamento("Conta de luz","despesa",421),
            new Lancamento("Conta de água","despesa",500),
            new Lancamento("Transporte","despesa",1024),
            new Lancamento("Alimentação","despesa",450),
            new Lancamento("Condomínio","despesa",304),
            new Lancamento("Farmácia","despesa",124),
        ]
        saldo3 = calcularSaldo("Março",saldoInicial,lancamentosMarco)
        console.log(saldo3)
        acumulaAno = saldo2 + saldo3
        console.log("Acumulado no Ano")
        console.log(acumulaAno)
        console.log("Quantidade de Lançamentos em Janeiro",lancamentosJaneiro.length)
        lancamentosJaneiro.push({categoria:"Prostitutas",tipo:"despesa",valor:300})
        //lancamentosJaneiro = {categoria:"Financeamento",tipo:"despesa",valor:100}
        lancamentosJaneiro.push({categoria:"Financeamento",tipo:"despesa",valor:100})
        console.log(lancamentosMarco)
        
        for (lancamento of lancamentosJaneiro){
            console.log(lancamento.categoria,lancamento.valor)
        }
        saldo1 = calcularSaldo("janeiro", saldoInicial, lancamentosJaneiro)
        console.log(saldo1)
        console.log("Mês de Janeiro",saldo1)
        acumulaAno = saldo1 + saldo2 + saldo3
        console.log("Acumulado no Ano")
        console.log(acumulaAno)

// QUANDO É IGUAL ===
// QUANDO É OPERADOR DE ATRIBUIÇÃO =
// QUANDO É DIFERENTE !==


        for(lancamento of lancamentosFevereiro){
            console.log(lancamento.categoria,lancamento.valor)
    }
        // cria-se aqui um objeto/pessoa

        nome = "Leon Graff"
        idade = 25
        email = "zdomergue@gmail.com"
        casado = false

        pessoa = {nome: "leon graff", idade: 25, email:"zdomergue@gmail.com",casado:false}
        console.log(pessoa)

    </script>
</html>